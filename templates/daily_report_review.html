{% comment %} <!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <title>BharatYatra's Review Report</title>
    <!-- Include Bootstrap CSS -->
    <link
      rel="stylesheet"
      href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css"
    />
    <style>
      body {
        font-family: Arial, sans-serif;
        margin: 20px;
      }
      h1,
      h2 {
        text-align: center;
      }
      table {
        width: 100%;
        border-collapse: collapse;
        margin-bottom: 20px;
      }
      th,
      td {
        border: 1px solid #ddd;
        padding: 8px;
        text-align: center;
      }
      th {
        background-color: #f2f2f2;
      }
    </style>
  </head>
  <body>
    <h1><a href="/">Go to the Home Page !</a></h1>
    <h1>
      <b><u>Review's Report !</u></b>
    </h1>
    <br /><br />
    <h2>Total Reviews: {{ total_reviews }}</h2>
    <br />
    <center>
      <h3>Following are the New Reviews :</h3>
    </center>
    <br />
    <table>
      <thead>
        <tr>
          <th>Date</th>
          <th>Reviewer</th>
          <th>Review</th>
        </tr>
      </thead>
      <tbody>
        {% for review in new_reviews %}
        <tr>
          <td>{{ review.date }}</td>
          <td>{{ review.user.username }}</td>
          <td>{{ review.review }}</td>
          <!-- Assuming review content is stored in a 'content' field -->
        </tr>
        {% endfor %}
      </tbody>
    </table>
  </body>
</html> {% endcomment %}





































{% comment %} <!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <title>BharatYatra's Review Report</title>
    <!-- Include Bootstrap CSS -->
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css" />
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 20px;
        }
        h1,
        h2 {
            text-align: center;
        }
        table {
            width: 100%;
            border-collapse: collapse;
            margin-bottom: 20px;
        }
        th,
        td {
            border: 1px solid #ddd;
            padding: 8px;
            text-align: center;
        }
        th {
            background-color: #f2f2f2;
        }
    </style>
</head>
<body>
    <h1><a href="/">Go to the Home Page!</a></h1>
    <h1><b><u>Review's Report!</u></b></h1>
    <br /><br />
    <h2>Total Reviews: {{ total_reviews }}</h2>
    <br />
    <center>
        <h3>Following are the New Reviews:</h3>
    </center>
    <br />
    <table>
        <thead>
            <tr>
                <th>Date</th>
                <th>Reviewer</th>
                <th>Review</th>
            </tr>
        </thead>
        <tbody>
            {% for review in new_reviews %}
            <tr>
                <td>{{ review.date }}</td>
                <td>{{ review.user.username }}</td>
                <td>{{ review.review }}</td> <!-- Assuming review content is stored in a 'review' field -->
            </tr>
            {% endfor %}
        </tbody>
    </table>

    <!-- Add a button to download PDF -->
    <button onclick="downloadPDF()">Download PDF</button>

    <!-- Include jsPDF library -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.4.0/jspdf.umd.min.js"></script>

    <script>
        // Function to download PDF
        function downloadPDF() {
            const doc = new jsPDF();

            // Add HTML content to PDF
            doc.html(document.body, {
                callback: function (doc) {
                    // Save the PDF
                    doc.save("review_report.pdf");
                },
                x: 10,
                y: 10
            });
        }
    </script>
</body>
</html> {% endcomment %}













































<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <title>BharatYatra's Review Report</title>
    <!-- Include Bootstrap CSS -->
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css" />
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 20px;
        }
        h1,
        h2 {
            text-align: center;
        }
        table {
            width: 100%;
            border-collapse: collapse;
            margin-bottom: 20px;
        }
        th,
        td {
            border: 1px solid #ddd;
            padding: 8px;
            text-align: center;
        }
        th {
            background-color: #f2f2f2;
        }
    </style>
</head>
<body>
    <h1><a href="/">Go to the Home Page!</a></h1>     
    
    <center>
      <!-- Add a button to download PDF -->
      <input type="submit" id="download-pdf" value="Download PDF"></input>
    </center>

    <h1><b><u>Review's Report!</u></b></h1>
    <center>
        <h3>New Reviews</h3>
    </center>
    <br />
    <table>
        <thead>
            <tr>
                <th>Date</th>
                <th>No. of New Review</th>
                <th>Reviewer</th>
                <th>Reviews</th>
            </tr>
        </thead>
        <tbody>
            {% for review in new_reviews %}
            <tr>
                <td>{{ review.date }}</td>
                <td>{{ review.num_reviews }}</td>
                {% if review.user.username %}
                <td>{{ review.user.username }}</td>
                {% else %}
                <td>User Deleted !</td>
                {% endif %}
                <td>{{ review.review }}</td> <!-- Assuming review content is stored in a 'review' field -->
          {% comment %} <td>{{ user.num_users }}</td> {% endcomment %}
            </tr>
            {% endfor %}
        </tbody>
    </table>
    <hr style="border:2px solid red;">
<table>
  <thead>
    <tr>
      <th>Total Reviews </th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>
        {{total_reviews}}
      </td>
    </tr>
  </tbody>
</table>

    <!-- Include jsPDF library -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.4.0/jspdf.umd.min.js"></script>

    <script>
        // Function to download PDF
        document.getElementById('download-pdf').addEventListener('click', function () {
            const doc = new jsPDF();

            // Add HTML content to PDF
            doc.html(document.body, {
                callback: function (doc) {
                    // Save the PDF
                    doc.save("review_report.pdf");
                },
                x: 10,
                y: 10
            });
        });
    </script>
</body>
</html>
